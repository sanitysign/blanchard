{"version":3,"sources":["webpack://11/./node_modules/imask/esm/_rollupPluginBabelHelpers-3c58f0e3.js","webpack://11/./node_modules/imask/esm/core/change-details.js","webpack://11/./node_modules/imask/esm/core/continuous-tail-details.js","webpack://11/./node_modules/imask/esm/core/holder.js","webpack://11/./node_modules/imask/esm/core/utils.js","webpack://11/./node_modules/imask/esm/masked/base.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","value","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_objectWithoutProperties","source","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","call","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_superPropBase","object","property","hasOwnProperty","_get","receiver","Reflect","get","base","desc","getOwnPropertyDescriptor","set","_defineProperty","_set","isStrict","Error","_slicedToArray","arr","Array","isArray","_arrayWithHoles","toString","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","_iterableToArrayLimit","_nonIterableRest","ChangeDetails","details","this","assign","inserted","rawInserted","skip","tailShift","ContinuousTailDetails","arguments","from","stop","tail","String","masked","append","aggregate","_appendPlaceholder","pos","shiftChar","slice","state","IMask","el","opts","InputMask","isString","str","DIRECTION","NONE","LEFT","FORCE_LEFT","RIGHT","FORCE_RIGHT","forceDirection","direction","escapeRegExp","replace","objectIncludes","b","a","arrA","arrB","_","dateA","Date","dateB","getTime","regexpA","RegExp","regexpB","Masked","_value","_update","DEFAULTS","isInitialized","withValueRefresh","bind","reset","input","doCommit","cursorPos","fromPos","toPos","extractInput","appendTo","ch","flags","doPrepare","checkTail","consistentState","_appendCharRaw","consistentTail","appended","doValidate","beforeTailState","overwrite","shiftBefore","tailDetails","appendTail","_beforeTailState","ci","_appendChar","fn","_refreshing","rawInput","rawInputValue","ret","_isolated","prepare","validate","parent","commit","format","parse","start","deleteCount","removeDirection","tailPos","extractTail","startChangePos","nearestInputPos","remove","resolve","doParse","doFormat","raw","v"],"mappings":"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","file":"scripts/975.js","sourcesContent":["function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction set(target, property, value, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.set) {\n    set = Reflect.set;\n  } else {\n    set = function set(target, property, value, receiver) {\n      var base = _superPropBase(target, property);\n\n      var desc;\n\n      if (base) {\n        desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.set) {\n          desc.set.call(receiver, value);\n          return true;\n        } else if (!desc.writable) {\n          return false;\n        }\n      }\n\n      desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n      if (desc) {\n        if (!desc.writable) {\n          return false;\n        }\n\n        desc.value = value;\n        Object.defineProperty(receiver, property, desc);\n      } else {\n        _defineProperty(receiver, property, value);\n      }\n\n      return true;\n    };\n  }\n\n  return set(target, property, value, receiver);\n}\n\nfunction _set(target, property, value, receiver, isStrict) {\n  var s = set(target, property, value, receiver || target);\n\n  if (!s && isStrict) {\n    throw new Error('failed to set property');\n  }\n\n  return value;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nexport { _typeof as _, _createClass as a, _classCallCheck as b, _objectWithoutProperties as c, _inherits as d, _possibleConstructorReturn as e, _getPrototypeOf as f, _get as g, _set as h, _slicedToArray as i };\n","import { a as _createClass, b as _classCallCheck } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\n\n/**\r\n  Provides details of changing model value\r\n  @param {Object} [details]\r\n  @param {string} [details.inserted] - Inserted symbols\r\n  @param {boolean} [details.skip] - Can skip chars\r\n  @param {number} [details.removeCount] - Removed symbols count\r\n  @param {number} [details.tailShift] - Additional offset if any changes occurred before tail\r\n*/\nvar ChangeDetails =\n/*#__PURE__*/\nfunction () {\n  /** Inserted symbols */\n\n  /** Can skip chars */\n\n  /** Additional offset if any changes occurred before tail */\n\n  /** Raw inserted is used by dynamic mask */\n  function ChangeDetails(details) {\n    _classCallCheck(this, ChangeDetails);\n\n    Object.assign(this, {\n      inserted: '',\n      rawInserted: '',\n      skip: false,\n      tailShift: 0\n    }, details);\n  }\n  /**\r\n    Aggregate changes\r\n    @returns {ChangeDetails} `this`\r\n  */\n\n\n  _createClass(ChangeDetails, [{\n    key: \"aggregate\",\n    value: function aggregate(details) {\n      this.rawInserted += details.rawInserted;\n      this.skip = this.skip || details.skip;\n      this.inserted += details.inserted;\n      this.tailShift += details.tailShift;\n      return this;\n    }\n    /** Total offset considering all changes */\n\n  }, {\n    key: \"offset\",\n    get: function get() {\n      return this.tailShift + this.inserted.length;\n    }\n  }]);\n\n  return ChangeDetails;\n}();\n\nexport default ChangeDetails;\n","import { a as _createClass, b as _classCallCheck } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\n\n/** Provides details of continuous extracted tail */\nvar ContinuousTailDetails =\n/*#__PURE__*/\nfunction () {\n  /** Tail value as string */\n\n  /** Tail start position */\n\n  /** Start position */\n  function ContinuousTailDetails() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var stop = arguments.length > 2 ? arguments[2] : undefined;\n\n    _classCallCheck(this, ContinuousTailDetails);\n\n    this.value = value;\n    this.from = from;\n    this.stop = stop;\n  }\n\n  _createClass(ContinuousTailDetails, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.value;\n    }\n  }, {\n    key: \"extend\",\n    value: function extend(tail) {\n      this.value += String(tail);\n    }\n  }, {\n    key: \"appendTo\",\n    value: function appendTo(masked) {\n      return masked.append(this.toString(), {\n        tail: true\n      }).aggregate(masked._appendPlaceholder());\n    }\n  }, {\n    key: \"shiftBefore\",\n    value: function shiftBefore(pos) {\n      if (this.from >= pos || !this.value.length) return '';\n      var shiftChar = this.value[0];\n      this.value = this.value.slice(1);\n      return shiftChar;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        value: this.value,\n        from: this.from,\n        stop: this.stop\n      };\n    },\n    set: function set(state) {\n      Object.assign(this, state);\n    }\n  }]);\n\n  return ContinuousTailDetails;\n}();\n\nexport default ContinuousTailDetails;\n","/**\r\n * Applies mask on element.\r\n * @constructor\r\n * @param {HTMLInputElement|HTMLTextAreaElement|MaskElement} el - Element to apply mask\r\n * @param {Object} opts - Custom mask options\r\n * @return {InputMask}\r\n */\nfunction IMask(el) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  // currently available only for input-like elements\n  return new IMask.InputMask(el, opts);\n}\n\nexport default IMask;\n","import { _ as _typeof } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\n\n/** Checks if value is string */\nfunction isString(str) {\n  return typeof str === 'string' || str instanceof String;\n}\n/**\r\n  Direction\r\n  @prop {string} NONE\r\n  @prop {string} LEFT\r\n  @prop {string} FORCE_LEFT\r\n  @prop {string} RIGHT\r\n  @prop {string} FORCE_RIGHT\r\n*/\n\nvar DIRECTION = {\n  NONE: 'NONE',\n  LEFT: 'LEFT',\n  FORCE_LEFT: 'FORCE_LEFT',\n  RIGHT: 'RIGHT',\n  FORCE_RIGHT: 'FORCE_RIGHT'\n};\n/**\r\n  Direction\r\n  @enum {string}\r\n*/\n\n/** Returns next char index in direction */\nfunction indexInDirection(pos, direction) {\n  if (direction === DIRECTION.LEFT) --pos;\n  return pos;\n}\n/** Returns next char position in direction */\n\nfunction posInDirection(pos, direction) {\n  switch (direction) {\n    case DIRECTION.LEFT:\n    case DIRECTION.FORCE_LEFT:\n      return --pos;\n\n    case DIRECTION.RIGHT:\n    case DIRECTION.FORCE_RIGHT:\n      return ++pos;\n\n    default:\n      return pos;\n  }\n}\n/** */\n\nfunction forceDirection(direction) {\n  switch (direction) {\n    case DIRECTION.LEFT:\n      return DIRECTION.FORCE_LEFT;\n\n    case DIRECTION.RIGHT:\n      return DIRECTION.FORCE_RIGHT;\n\n    default:\n      return direction;\n  }\n}\n/** Escapes regular expression control chars */\n\nfunction escapeRegExp(str) {\n  return str.replace(/([.*+?^=!:${}()|[\\]/\\\\])/g, '\\\\$1');\n} // cloned from https://github.com/epoberezkin/fast-deep-equal with small changes\n\nfunction objectIncludes(b, a) {\n  if (a === b) return true;\n  var arrA = Array.isArray(a),\n      arrB = Array.isArray(b),\n      i;\n\n  if (arrA && arrB) {\n    if (a.length != b.length) return false;\n\n    for (i = 0; i < a.length; i++) {\n      if (!objectIncludes(a[i], b[i])) return false;\n    }\n\n    return true;\n  }\n\n  if (arrA != arrB) return false;\n\n  if (a && b && _typeof(a) === 'object' && _typeof(b) === 'object') {\n    var dateA = a instanceof Date,\n        dateB = b instanceof Date;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n    if (dateA != dateB) return false;\n    var regexpA = a instanceof RegExp,\n        regexpB = b instanceof RegExp;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n    if (regexpA != regexpB) return false;\n    var keys = Object.keys(a); // if (keys.length !== Object.keys(b).length) return false;\n\n    for (i = 0; i < keys.length; i++) {\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    }\n\n    for (i = 0; i < keys.length; i++) {\n      if (!objectIncludes(b[keys[i]], a[keys[i]])) return false;\n    }\n\n    return true;\n  } else if (a && b && typeof a === 'function' && typeof b === 'function') {\n    return a.toString() === b.toString();\n  }\n\n  return false;\n}\n/** Selection range */\n\nexport { DIRECTION, escapeRegExp, forceDirection, indexInDirection, isString, objectIncludes, posInDirection };\n","import { a as _createClass, b as _classCallCheck } from '../_rollupPluginBabelHelpers-3c58f0e3.js';\nimport { isString } from '../core/utils.js';\nimport ChangeDetails from '../core/change-details.js';\nimport ContinuousTailDetails from '../core/continuous-tail-details.js';\nimport IMask from '../core/holder.js';\n\n/** Supported mask type */\n\n/** Provides common masking stuff */\nvar Masked =\n/*#__PURE__*/\nfunction () {\n  // $Shape<MaskedOptions>; TODO after fix https://github.com/facebook/flow/issues/4773\n\n  /** @type {Mask} */\n\n  /** */\n  // $FlowFixMe no ideas\n\n  /** Transforms value before mask processing */\n\n  /** Validates if value is acceptable */\n\n  /** Does additional processing in the end of editing */\n\n  /** Format typed value to string */\n\n  /** Parse strgin to get typed value */\n\n  /** Enable characters overwriting */\n\n  /** */\n  function Masked(opts) {\n    _classCallCheck(this, Masked);\n\n    this._value = '';\n\n    this._update(Object.assign({}, Masked.DEFAULTS, {}, opts));\n\n    this.isInitialized = true;\n  }\n  /** Sets and applies new options */\n\n\n  _createClass(Masked, [{\n    key: \"updateOptions\",\n    value: function updateOptions(opts) {\n      if (!Object.keys(opts).length) return;\n      this.withValueRefresh(this._update.bind(this, opts));\n    }\n    /**\r\n      Sets new options\r\n      @protected\r\n    */\n\n  }, {\n    key: \"_update\",\n    value: function _update(opts) {\n      Object.assign(this, opts);\n    }\n    /** Mask state */\n\n  }, {\n    key: \"reset\",\n\n    /** Resets value */\n    value: function reset() {\n      this._value = '';\n    }\n    /** */\n\n  }, {\n    key: \"resolve\",\n\n    /** Resolve new value */\n    value: function resolve(value) {\n      this.reset();\n      this.append(value, {\n        input: true\n      }, '');\n      this.doCommit();\n      return this.value;\n    }\n    /** */\n\n  }, {\n    key: \"nearestInputPos\",\n\n    /** Finds nearest input position in direction */\n    value: function nearestInputPos(cursorPos, direction) {\n      return cursorPos;\n    }\n    /** Extracts value in range considering flags */\n\n  }, {\n    key: \"extractInput\",\n    value: function extractInput() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      return this.value.slice(fromPos, toPos);\n    }\n    /** Extracts tail in range */\n\n  }, {\n    key: \"extractTail\",\n    value: function extractTail() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      return new ContinuousTailDetails(this.extractInput(fromPos, toPos), fromPos);\n    }\n    /** Appends tail */\n    // $FlowFixMe no ideas\n\n  }, {\n    key: \"appendTail\",\n    value: function appendTail(tail) {\n      if (isString(tail)) tail = new ContinuousTailDetails(String(tail));\n      return tail.appendTo(this);\n    }\n    /** Appends char */\n\n  }, {\n    key: \"_appendCharRaw\",\n    value: function _appendCharRaw(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      ch = this.doPrepare(ch, flags);\n      if (!ch) return new ChangeDetails();\n      this._value += ch;\n      return new ChangeDetails({\n        inserted: ch,\n        rawInserted: ch\n      });\n    }\n    /** Appends char */\n\n  }, {\n    key: \"_appendChar\",\n    value: function _appendChar(ch) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var checkTail = arguments.length > 2 ? arguments[2] : undefined;\n      var consistentState = this.state;\n\n      var details = this._appendCharRaw(ch, flags);\n\n      if (details.inserted) {\n        var consistentTail;\n        var appended = this.doValidate(flags) !== false;\n\n        if (appended && checkTail != null) {\n          // validation ok, check tail\n          var beforeTailState = this.state;\n\n          if (this.overwrite) {\n            consistentTail = checkTail.state;\n            checkTail.shiftBefore(this.value.length);\n          }\n\n          var tailDetails = this.appendTail(checkTail);\n          appended = tailDetails.rawInserted === checkTail.toString(); // if ok, rollback state after tail\n\n          if (appended && tailDetails.inserted) this.state = beforeTailState;\n        } // revert all if something went wrong\n\n\n        if (!appended) {\n          details = new ChangeDetails();\n          this.state = consistentState;\n          if (checkTail && consistentTail) checkTail.state = consistentTail;\n        }\n      }\n\n      return details;\n    }\n    /** Appends optional placeholder at end */\n\n  }, {\n    key: \"_appendPlaceholder\",\n    value: function _appendPlaceholder() {\n      return new ChangeDetails();\n    }\n    /** Appends symbols considering flags */\n    // $FlowFixMe no ideas\n\n  }, {\n    key: \"append\",\n    value: function append(str, flags, tail) {\n      if (!isString(str)) throw new Error('value should be string');\n      var details = new ChangeDetails();\n      var checkTail = isString(tail) ? new ContinuousTailDetails(String(tail)) : tail;\n      if (flags.tail) flags._beforeTailState = this.state;\n\n      for (var ci = 0; ci < str.length; ++ci) {\n        details.aggregate(this._appendChar(str[ci], flags, checkTail));\n      } // append tail but aggregate only tailShift\n\n\n      if (checkTail != null) {\n        details.tailShift += this.appendTail(checkTail).tailShift; // TODO it's a good idea to clear state after appending ends\n        // but it causes bugs when one append calls another (when dynamic dispatch set rawInputValue)\n        // this._resetBeforeTailState();\n      }\n\n      return details;\n    }\n    /** */\n\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      var fromPos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var toPos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.value.length;\n      this._value = this.value.slice(0, fromPos) + this.value.slice(toPos);\n      return new ChangeDetails();\n    }\n    /** Calls function and reapplies current value */\n\n  }, {\n    key: \"withValueRefresh\",\n    value: function withValueRefresh(fn) {\n      if (this._refreshing || !this.isInitialized) return fn();\n      this._refreshing = true;\n      var rawInput = this.rawInputValue;\n      var value = this.value;\n      var ret = fn();\n      this.rawInputValue = rawInput; // append lost trailing chars at end\n\n      if (this.value !== value && value.indexOf(this.value) === 0) {\n        this.append(value.slice(this.value.length), {}, '');\n      }\n\n      delete this._refreshing;\n      return ret;\n    }\n    /** */\n\n  }, {\n    key: \"runIsolated\",\n    value: function runIsolated(fn) {\n      if (this._isolated || !this.isInitialized) return fn(this);\n      this._isolated = true;\n      var state = this.state;\n      var ret = fn(this);\n      this.state = state;\n      delete this._isolated;\n      return ret;\n    }\n    /**\r\n      Prepares string before mask processing\r\n      @protected\r\n    */\n\n  }, {\n    key: \"doPrepare\",\n    value: function doPrepare(str) {\n      var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this.prepare ? this.prepare(str, this, flags) : str;\n    }\n    /**\r\n      Validates if value is acceptable\r\n      @protected\r\n    */\n\n  }, {\n    key: \"doValidate\",\n    value: function doValidate(flags) {\n      return (!this.validate || this.validate(this.value, this, flags)) && (!this.parent || this.parent.doValidate(flags));\n    }\n    /**\r\n      Does additional processing in the end of editing\r\n      @protected\r\n    */\n\n  }, {\n    key: \"doCommit\",\n    value: function doCommit() {\n      if (this.commit) this.commit(this.value, this);\n    }\n    /** */\n\n  }, {\n    key: \"doFormat\",\n    value: function doFormat(value) {\n      return this.format ? this.format(value, this) : value;\n    }\n    /** */\n\n  }, {\n    key: \"doParse\",\n    value: function doParse(str) {\n      return this.parse ? this.parse(str, this) : str;\n    }\n    /** */\n\n  }, {\n    key: \"splice\",\n    value: function splice(start, deleteCount, inserted, removeDirection) {\n      var tailPos = start + deleteCount;\n      var tail = this.extractTail(tailPos);\n      var startChangePos = this.nearestInputPos(start, removeDirection);\n      var changeDetails = new ChangeDetails({\n        tailShift: startChangePos - start // adjust tailShift if start was aligned\n\n      }).aggregate(this.remove(startChangePos)).aggregate(this.append(inserted, {\n        input: true\n      }, tail));\n      return changeDetails;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        _value: this.value\n      };\n    },\n    set: function set(state) {\n      this._value = state._value;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    },\n    set: function set(value) {\n      this.resolve(value);\n    }\n  }, {\n    key: \"unmaskedValue\",\n    get: function get() {\n      return this.value;\n    },\n    set: function set(value) {\n      this.reset();\n      this.append(value, {}, '');\n      this.doCommit();\n    }\n    /** */\n\n  }, {\n    key: \"typedValue\",\n    get: function get() {\n      return this.doParse(this.value);\n    },\n    set: function set(value) {\n      this.value = this.doFormat(value);\n    }\n    /** Value that includes raw user input */\n\n  }, {\n    key: \"rawInputValue\",\n    get: function get() {\n      return this.extractInput(0, this.value.length, {\n        raw: true\n      });\n    },\n    set: function set(value) {\n      this.reset();\n      this.append(value, {\n        raw: true\n      }, '');\n      this.doCommit();\n    }\n    /** */\n\n  }, {\n    key: \"isComplete\",\n    get: function get() {\n      return true;\n    }\n  }]);\n\n  return Masked;\n}();\nMasked.DEFAULTS = {\n  format: function format(v) {\n    return v;\n  },\n  parse: function parse(v) {\n    return v;\n  }\n};\nIMask.Masked = Masked;\n\nexport default Masked;\n"],"sourceRoot":""}